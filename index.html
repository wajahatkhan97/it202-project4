<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>repl.it</title>
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    :root {
      --mdc-theme-primary: navy;
    }
    
    body {margin: 0;
      background-color: aqua;
      
      }
    main {margin-left: 8px;}
  
       .viewS{
			display: block;
	  }  
/*	   //<!-- display none cause we want to show one page at a time. -->*/
	  .view{
		  display: none;
	  }	  
      </style>

  </head>
  <body>  
  <div class="mdc-drawer-scrim"></div>
<header class="mdc-top-app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button">menu</button>
      <span class="mdc-top-app-bar__title">COVID-19 </span>
    </section>
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
        <a class="mdc-top-app-bar__section--activated" href="#" aria-current="page" onclick = "return Show('#Home', '#Search', '#Table', '#Chart');">
        <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-hidden="true"> home</button>    
        </a>

        <a class="mdc-top-app-bar-item" href="#Search" onclick = "return Show('#Search', '#Home', '#Table', '#Chart');">
        <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-hidden="true"> search</button>    
        </a>
        
        <a class="mdc-top-app-bar-item" href="#Table" onclick = "return Show('#Table', '#Search', '#Home', '#Chart');">
        
        <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Print this page">table_chart</button>
        </a>
        
        
        		<a class="mdc-top-app-bar-item" href="#Chart" onclick = "return Show('#Chart', '#Search', '#Table', '#Home');">
        <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Bookmark this page">show_chart</button>
        </a>
    </section>
  </div>
</header>



  <main class="mdc-top-app-bar--fixed-adjust">

            <div class="viewS" id="Home">
		  <h1>Home</h1>
		  The API used in this project is from <strong>https://pomber.github.io/covid19/timeseries.json </strong>
                <br>
                Click search icon to search country
	  </div>
      
      <div class = "view" id = "Search">

<p> Select the country you wanna check data for</p>          
          
          <p>Use clear All button after search to clear out previous data</p>          
<div>    
  <input id="country_name" list="listName" />
  <datalist id="listName"></datalist>
 <!---<input type="submit" onclick="abc()" />-->
</div>
      
<div id ="c_names">    
<button id ="addC">Add</button>
    <p id = "c_name"></p>
 <!---<input type="submit" onclick="abc()" />-->
</div>
      
      <button id="Generate_Table">Generate Table</button>      
            <button id="Clear">Clear All</button>      

      </div>
    
      
      <div id="Table" class="view">
            
            <div class="mdc-data-table">
                <table class = "mdc-data-table__table">
                    <thead></thead>
                <tbody>
                 </tbody>
                </table>
               </div>     
      </div>
    
       <div id="Chart" class="view">
      </div>
      

   
    
     
   
  </main>


  
<!--      ///piazza suggestion for multi screens
      
      //google chart https://developers.google.com/chart/interactive/docs/gallery/linechart
      -->
      <script type="text/javascript">
                       google.charts.load('current', {packages: ['corechart','line']});   

      </script>
  <script>
      
     let tags = [ ];
let create_rows = []; //for the table data

      //data fetching of COVID-19
      fetch("https://pomber.github.io/covid19/timeseries.json")
  .then(response => response.json())
      
  .then(json => {
          data = json;
                for (country_name in data) { 
                        let option = document.createElement("option");              

          option.value = country_name;        
                    
        document.querySelector("#listName").appendChild(option);    
        
        } 

});
        
      
      document.querySelector("#addC")                             
        .addEventListener("click",(e) => {                             
          let countryName = document.querySelector("#country_name").value; 
          //check for name as well if the names are in the list or no
  
          tags.push(countryName);                            
          let option = document.createElement("p");  
          option.innerText = tags;
          document.body.appendChild(option); //append
          
            
      
      });
        
      ///create a chart for this
        
         

  <!-----------------------Generating Table using https://material.io/develop/web/components/data-tables/ website example----  -->  

      
          
              function table_generator(){
                let table_Head = document.createElement("th");
                table_Head.classList.add("mdc-data-table__header-cell", "mdc-data-table__header-cell--numeric");
                let rows = document.createElement("tr");
                rows.classList.add("mdc-data-table__header-row");
                let date = table_Head.cloneNode(true);
                date.textContent = "Date"
                rows.appendChild(date);
                document.querySelector("table thead").appendChild(rows);
    
                let dates = data[tags[0]].map
                (item => 
                {
                    return item["date"]
                })
                
                  create_rows.push(dates);    
                for (let country of tags) 
                {             
                  let header_countries = table_Head.cloneNode(true);   
                  header_countries.textContent = country;           
                rows.appendChild(header_countries);                 
                  
                  let countriesData =  data[country].map
                  (item => {
                      return item["confirmed"];                  
                  });
                  create_rows.push(countriesData);                    
                }
                  
                  <!--- creating rows for data --->
                for (let i=0; i< create_rows[0].length; i++) {      
                  let tbl_rows =  document.createElement("tr");  
                  tbl_rows.classList.add("mdc-data-table__row"); 
                  for (let j=0; j < create_rows.length; j++) {      
                   let body_data = document.createElement("td")       
                   body_data.classList.add("mdc-data-table__cell")    
                   if (j > 0) {                                 
                     body_data.classList.add("mdc-data-table__cell--numeric"); 
                   } 
                   body_data.textContent = create_rows[j][i];             
                   tbl_rows.appendChild(body_data);                   
                  }
                  document.querySelector("table tbody").appendChild(tbl_rows);                      
                }
              } 
      
      
  
  
      <!-------------------------------------generate_chart https://material.io/develop/web/components/data-tables/ website example -->
        

      
      
    function generate_chart() {
        let date = ["Date"];  
        let chart = [];    
        for (let country of tags) {
          date.push(country);  
        }
        chart.push(date); 
    

        for (var i = 0; i < data[tags[0]].length; i++) {
          let row_data = [];         
          row_data.push(data[tags[0]][i]["date"]); 
          for (let country of tags) {
            row_data.push(data[country][i]["confirmed"]);  
          }
          chart.push(row_data);                       
        }

        let options = {
          width: 700,
          height: 500,           
        title: 'Cases Chart',
        curveType: 'none',
        };
        let dataChart = google.visualization.arrayToDataTable(chart);
        
        let chart1 = new google.visualization.LineChart(document.querySelector('#Chart'));

        chart1.draw(dataChart, options);
    }          


      
      <!-------------------BUTTONS AND OPERATIONS -------->
         document.querySelector("#Generate_Table")                             
        .addEventListener("click",(e) => {                             
          table_generator();
            generate_chart();
            
         });
      
    document.querySelector("#Clear")                             
        .addEventListener("click",(e) => {                             
        let table_body = document.querySelector("table tbody");
                let last_child = tbody.lastElementChild;  
                while (last_child ) {  //loop through until null                      
                    table_body.removeChild(last_child );       
                    last_child  = tbody.lastElementChild; 
                }
        //we need one more loop to remove header will do exact same thing except we will be selecting thead instead of tbody
        
                let table_head = document.querySelector("table thead");
                let last_child1 = tbody.lastElementChild;  
                while (last_child1 ) {  //loop through until null                      
                    table_head.removeChild(last_child1);       
                    last_child1  = tbody.lastElementChild; 
                }
            
         });
      
      
         const Show = (cl0, cl1, cl2, cl3) => {
		  document.querySelector(cl0).setAttribute("class", "viewS");
		  document.querySelector(cl1).setAttribute("class", "view");
		  document.querySelector(cl2).setAttribute("class", "view");
		  document.querySelector(cl3).setAttribute("class", "view");
		  return false;
	  }
      
<!-------------------------CHART -----------> 
    
         
         
         
    </script>
      
      
      
      
  </body>
</html>